<adlink-index>
    <div if="{!hidden}">
        <div if="{tip}" class="alert {addClass}" style="margin-top: -5px; float: left; width: 100%; text-align: center; margin-bottom: 0; position: absolute; z-index: 9999">
            <strong>{tipInfo}</strong>
        </div>
        <div class="container" style="width: 100%; margin-left: 0; margin-right: 0; padding-left: 0; padding-right: 0">
            <div class="row">
                &nbsp;
            </div>
            <div class="row">
                <div class="col-md-4  col-lg-4" >
                    <div class="container" style="margin-left: 0; margin-right: 0; padding-left: 0; padding-right: 0">
                        <div class="row">
                            <div class="col-md-12  col-lg-12" >


                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody>

                                    <tr each="{adLinks}">
                                        <td>
                                            <a href="#adlink?id={_id}">
                                                {name}{ __app.enums.PartyType.values[type] }
                                            </a>
                                        </td>
                                    </tr>

                                    </tbody>
                                </table>


                            </div>
                        </div>
                    </div>
                </div>
            </div><!--/row-->
        </div><!--/container-->

        <style scoped>

        </style>

        <script>
            "use strict";
            this.app = this.opts.app; //keep spa object
            var self = nest.presentable(this);
            self.api =  __app.settings.api.url;
            self.tip = false;
            self.tipInfo = "";

            var findTenants = domain.action('findTenants');

            var onFindTenants = function(tenants){
                self.tenants = tenants;
                self.update();
            };

            this.on('mount', function(){
                findTenants.onDone(onFindTenants);
            });
            this.on('unmount', function(){
                findTenants.offDone(onFindTenants);
            });
            this.on('open', function(options){
                console.info('tag tenants is opening');
                self.trigger('ready', false);
                self.trigger('view-route-to');
                findTenants.execute({});
            });

            this.on('leave', function(){
                self.mask = true;
                self.update();
            });

            this.on('reenter', function(){
                self.mask = false;
                self.update();
            });

            this.on('refresh', function(){
                console.info('tag tenants is refreshing');
                //_refresh();
            });

        </script>
    </div>
</adlink-index>